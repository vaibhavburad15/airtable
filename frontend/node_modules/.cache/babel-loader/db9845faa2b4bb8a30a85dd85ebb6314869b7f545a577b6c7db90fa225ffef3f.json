{"ast":null,"code":"var _jsxFileName = \"C:\\\\airtable\\\\frontend\\\\src\\\\pages\\\\FormViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\nconst FormViewer = () => {\n  _s();\n  const {\n    formId\n  } = useParams();\n  const [form, setForm] = useState(null);\n  const [answers, setAnswers] = useState({});\n  const [visibleQuestions, setVisibleQuestions] = useState([]);\n  const [submitting, setSubmitting] = useState(false);\n  const [submitMessage, setSubmitMessage] = useState('');\n  const [submitMessageType, setSubmitMessageType] = useState('info');\n  useEffect(() => {\n    fetchForm();\n  }, [formId, fetchForm]);\n  useEffect(() => {\n    if (form) {\n      updateVisibleQuestions();\n    }\n  }, [answers, form, updateVisibleQuestions]);\n  const fetchForm = useCallback(async () => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/forms/public/${formId}`);\n      setForm(response.data);\n    } catch (error) {\n      console.error('Error fetching form:', error);\n      setSubmitMessage('Failed to load form. Please check the link and try again.');\n      setSubmitMessageType('error');\n    }\n  }, [formId]);\n  const shouldShowQuestion = (rules, answersSoFar) => {\n    if (!rules) return true;\n    const {\n      logic,\n      conditions\n    } = rules;\n    const results = conditions.map(condition => {\n      const answer = answersSoFar[condition.questionKey];\n      if (answer === undefined || answer === null) return false;\n      switch (condition.operator) {\n        case 'equals':\n          return answer === condition.value;\n        case 'notEquals':\n          return answer !== condition.value;\n        case 'contains':\n          return String(answer).includes(condition.value);\n        default:\n          return false;\n      }\n    });\n    return logic === 'AND' ? results.every(r => r) : results.some(r => r);\n  };\n  const updateVisibleQuestions = () => {\n    const visible = form.questions.filter(question => shouldShowQuestion(question.conditionalRules, answers));\n    setVisibleQuestions(visible);\n  };\n  const handleAnswerChange = (questionKey, value) => {\n    setAnswers(prev => ({\n      ...prev,\n      [questionKey]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    setSubmitMessage('');\n    setSubmitMessageType('info');\n    const requiredQuestions = visibleQuestions.filter(q => q.required);\n    const missingRequired = requiredQuestions.filter(q => !answers[q.questionKey]);\n    if (missingRequired.length > 0) {\n      setSubmitMessage('Please fill in all required fields');\n      setSubmitMessageType('error');\n      setSubmitting(false);\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append('answers', JSON.stringify(answers));\n      Object.keys(answers).forEach(key => {\n        if (answers[key] instanceof File) {\n          formData.append('files', answers[key]);\n        }\n      });\n      await axios.post(`${API_BASE}/api/forms/${formId}/submit`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setSubmitMessage('Form submitted successfully!');\n      setSubmitMessageType('success');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error submitting form:', error);\n      setSubmitMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error submitting form. Please try again.');\n      setSubmitMessageType('error');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const renderQuestion = question => {\n    const value = answers[question.questionKey] || '';\n    switch (question.type) {\n      case 'singleLineText':\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: value,\n          onChange: e => handleAnswerChange(question.questionKey, e.target.value),\n          required: question.required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this);\n      case 'longText':\n        return /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: value,\n          onChange: e => handleAnswerChange(question.questionKey, e.target.value),\n          required: question.required,\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this);\n      case 'email':\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: value,\n          onChange: e => handleAnswerChange(question.questionKey, e.target.value),\n          required: question.required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this);\n      case 'phoneNumber':\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          value: value,\n          onChange: e => handleAnswerChange(question.questionKey, e.target.value),\n          required: question.required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this);\n      case 'number':\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: value,\n          onChange: e => handleAnswerChange(question.questionKey, e.target.value),\n          required: question.required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this);\n      case 'date':\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: value,\n          onChange: e => handleAnswerChange(question.questionKey, e.target.value),\n          required: question.required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this);\n      case 'singleSelect':\n        return /*#__PURE__*/_jsxDEV(\"select\", {\n          value: value,\n          onChange: e => handleAnswerChange(question.questionKey, e.target.value),\n          required: question.required,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), question.options && question.options.map((option, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: option,\n            children: option\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this);\n      case 'multipleSelects':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            multiple: true,\n            value: Array.isArray(value) ? value : [],\n            onChange: e => {\n              const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);\n              handleAnswerChange(question.questionKey, selectedOptions);\n            },\n            required: question.required,\n            style: {\n              minHeight: '100px'\n            },\n            children: question.options && question.options.map((option, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option,\n              children: option\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this);\n      case 'attachment':\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => handleAnswerChange(question.questionKey, e.target.files[0]),\n          required: question.required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (!form) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: form.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [visibleQuestions.map(question => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [question.label, question.required && '*']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), renderQuestion(question)]\n      }, question.questionKey, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s(FormViewer, \"pIOGHgurDj9x/S1CigZYOR5FkNU=\", false, function () {\n  return [useParams];\n});\n_c = FormViewer;\nexport default FormViewer;\nvar _c;\n$RefreshReg$(_c, \"FormViewer\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","axios","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","FormViewer","_s","formId","form","setForm","answers","setAnswers","visibleQuestions","setVisibleQuestions","submitting","setSubmitting","submitMessage","setSubmitMessage","submitMessageType","setSubmitMessageType","fetchForm","updateVisibleQuestions","response","get","data","error","console","shouldShowQuestion","rules","answersSoFar","logic","conditions","results","map","condition","answer","questionKey","undefined","operator","value","String","includes","every","r","some","visible","questions","filter","question","conditionalRules","handleAnswerChange","prev","handleSubmit","e","preventDefault","requiredQuestions","q","required","missingRequired","length","formData","FormData","append","JSON","stringify","Object","keys","forEach","key","File","post","headers","_error$response","_error$response$data","renderQuestion","type","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","rows","children","options","option","idx","multiple","Array","isArray","selectedOptions","from","style","minHeight","files","name","onSubmit","label","_c","$RefreshReg$"],"sources":["C:/airtable/frontend/src/pages/FormViewer.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\r\nconst FormViewer = () => {\r\n  const { formId } = useParams();\r\n  const [form, setForm] = useState(null);\r\n  const [answers, setAnswers] = useState({});\r\n  const [visibleQuestions, setVisibleQuestions] = useState([]);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [submitMessage, setSubmitMessage] = useState('');\r\n  const [submitMessageType, setSubmitMessageType] = useState('info'); \r\n  useEffect(() => {\r\n    fetchForm();\r\n  }, [formId, fetchForm]);\r\n  useEffect(() => {\r\n    if (form) {\r\n      updateVisibleQuestions();\r\n    }\r\n  }, [answers, form, updateVisibleQuestions]);\r\n  const fetchForm = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/api/forms/public/${formId}`);\r\n      setForm(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching form:', error);\r\n      setSubmitMessage('Failed to load form. Please check the link and try again.');\r\n      setSubmitMessageType('error');\r\n    }\r\n  }, [formId]);\r\n  const shouldShowQuestion = (rules, answersSoFar) => {\r\n    if (!rules) return true;\r\n    const { logic, conditions } = rules;\r\n    const results = conditions.map(condition => {\r\n      const answer = answersSoFar[condition.questionKey];\r\n      if (answer === undefined || answer === null) return false;\r\n      switch (condition.operator) {\r\n        case 'equals':\r\n          return answer === condition.value;\r\n        case 'notEquals':\r\n          return answer !== condition.value;\r\n        case 'contains':\r\n          return String(answer).includes(condition.value);\r\n        default:\r\n          return false;\r\n      }\r\n    });\r\n    return logic === 'AND' ? results.every(r => r) : results.some(r => r);\r\n  };\r\n  const updateVisibleQuestions = () => {\r\n    const visible = form.questions.filter(question =>\r\n      shouldShowQuestion(question.conditionalRules, answers)\r\n    );\r\n    setVisibleQuestions(visible);\r\n  };\r\n  const handleAnswerChange = (questionKey, value) => {\r\n    setAnswers(prev => ({ ...prev, [questionKey]: value }));\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    setSubmitMessage('');\r\n    setSubmitMessageType('info');\r\n    const requiredQuestions = visibleQuestions.filter(q => q.required);\r\n    const missingRequired = requiredQuestions.filter(q => !answers[q.questionKey]);\r\n    if (missingRequired.length > 0) {\r\n      setSubmitMessage('Please fill in all required fields');\r\n      setSubmitMessageType('error');\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('answers', JSON.stringify(answers));\r\n      Object.keys(answers).forEach(key => {\r\n        if (answers[key] instanceof File) {\r\n          formData.append('files', answers[key]);\r\n        }\r\n      });\r\n      await axios.post(`${API_BASE}/api/forms/${formId}/submit`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      setSubmitMessage('Form submitted successfully!');\r\n      setSubmitMessageType('success');\r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n      setSubmitMessage(error.response?.data?.error || 'Error submitting form. Please try again.');\r\n      setSubmitMessageType('error');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n  const renderQuestion = (question) => {\r\n    const value = answers[question.questionKey] || '';\r\n    switch (question.type) {\r\n      case 'singleLineText':\r\n        return (\r\n          <input\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.value)}\r\n            required={question.required}\r\n          />\r\n        );\r\n      case 'longText':\r\n        return (\r\n          <textarea\r\n            value={value}\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.value)}\r\n            required={question.required}\r\n            rows={4}\r\n          />\r\n        );\r\n      case 'email':\r\n        return (\r\n          <input\r\n            type=\"email\"\r\n            value={value}\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.value)}\r\n            required={question.required}\r\n          />\r\n        );\r\n      case 'phoneNumber':\r\n        return (\r\n          <input\r\n            type=\"tel\"\r\n            value={value}\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.value)}\r\n            required={question.required}\r\n          />\r\n        );\r\n      case 'number':\r\n        return (\r\n          <input\r\n            type=\"number\"\r\n            value={value}\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.value)}\r\n            required={question.required}\r\n          />\r\n        );\r\n      case 'date':\r\n        return (\r\n          <input\r\n            type=\"date\"\r\n            value={value}\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.value)}\r\n            required={question.required}\r\n          />\r\n        );\r\n      case 'singleSelect':\r\n        return (\r\n          <select\r\n            value={value}\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.value)}\r\n            required={question.required}\r\n          >\r\n            <option value=\"\">Select...</option>\r\n            {question.options && question.options.map((option, idx) => (\r\n              <option key={idx} value={option}>{option}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n      case 'multipleSelects':\r\n        return (\r\n          <div>\r\n            <select\r\n              multiple\r\n              value={Array.isArray(value) ? value : []}\r\n              onChange={(e) => {\r\n                const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);\r\n                handleAnswerChange(question.questionKey, selectedOptions);\r\n              }}\r\n              required={question.required}\r\n              style={{ minHeight: '100px' }}\r\n            >\r\n              {question.options && question.options.map((option, idx) => (\r\n                <option key={idx} value={option}>{option}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        );\r\n      case 'attachment':\r\n        return (\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => handleAnswerChange(question.questionKey, e.target.files[0])}\r\n            required={question.required}\r\n          />\r\n        );\r\n      default:\r\n        return <input type=\"text\" />;\r\n    }\r\n  };\r\n  if (!form) return <div>Loading...</div>;\r\n  return (\r\n    <div>\r\n      <h2>{form.name}</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {visibleQuestions.map(question => (\r\n          <div key={question.questionKey}>\r\n            <label>{question.label}{question.required && '*'}</label>\r\n            {renderQuestion(question)}\r\n          </div>\r\n        ))}\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default FormViewer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}